{"version":3,"file":"rest-paginator.js","sources":["../src/rest-paginator.ts"],"sourcesContent":["import { Paginator } from \"./interfaces/paginator\";\n\ninterface PaginatorState<T> {\n  source: (token: string) => Promise<RestPaginator<T>>;\n  nextToken: string;\n  prevToken: string;\n  items: T[];\n}\n\n/**\n * Pagination helper class.\n */\nclass RestPaginator<T> implements Paginator<T> {\n  private state: PaginatorState<T>;\n\n  /**\n   * Indicates the existence of the next page.\n   */\n  public get hasNextPage(): boolean {\n    return !!this.state.nextToken;\n  }\n\n  /**\n   * Indicates the existence of the previous page\n   */\n  public get hasPrevPage(): boolean {\n    return !!this.state.prevToken;\n  }\n\n  /**\n   * Array of elements on the current page.\n   */\n  public get items(): T[] {\n    return this.state.items;\n  }\n\n  /**\n   * @internal\n   */\n  constructor(items, source, prevToken, nextToken) {\n    this.state = {\n      prevToken,\n      nextToken,\n      source,\n      items,\n    };\n  }\n\n  /**\n   * Request the next page. Does not modify the existing object.\n   */\n  nextPage(): Promise<RestPaginator<T>> {\n    return this.hasNextPage\n      ? this.state.source(this.state.nextToken)\n      : Promise.reject(new Error(\"No next page\"));\n  }\n\n  /**\n   * Request the previous page. Does not modify the existing object.\n   */\n  prevPage(): Promise<RestPaginator<T>> {\n    return this.hasPrevPage\n      ? this.state.source(this.state.prevToken)\n      : Promise.reject(new Error(\"No previous page\"));\n  }\n}\n\nexport { RestPaginator };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA;;;AAGA,MAAM,aAAa;;;;IA2BjB,YAAY,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS;QAC7C,IAAI,CAAC,KAAK,GAAG;YACX,SAAS;YACT,SAAS;YACT,MAAM;YACN,KAAK;SACN,CAAC;KACH;;;;IA5BD,IAAW,WAAW;QACpB,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;KAC/B;;;;IAKD,IAAW,WAAW;QACpB,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;KAC/B;;;;IAKD,IAAW,KAAK;QACd,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;KACzB;;;;IAiBD,QAAQ;QACN,OAAO,IAAI,CAAC,WAAW;cACnB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;cACvC,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;KAC/C;;;;IAKD,QAAQ;QACN,OAAO,IAAI,CAAC,WAAW;cACnB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;cACvC,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC;KACnD;;;;;"}